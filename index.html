<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Ionut Parvu">
        <meta name="keyword" content="Company Directory, CRUD - SQL, PHP, JavaScript/JQuery">
        <link href="img/favicon.png" rel="icon">

        <title>Company Directory</title>
      
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Poiret+One:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
      
        <link href="vendor/bootstrap-5.0.1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="vendor/boxicons/css/boxicons.min.css" rel="stylesheet" type="text/css">
        
        <link href="libs/css/style-min.css" rel="stylesheet">
    </head>

    <body>

        <header id="nav">
            <nav class="navbar fixed-top navbar-expand-lg navbar-light">
                <div class="container-fluid">
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="logo d-flex justify-content-between align-items-end">
                        <a href="index.html"><img src="img/logo.png" alt="Logo" class="navbar-brand img-fluid"></a>
                        <a href="index.html"><h1 class="mt-3,p-2">companyDirectory</h1></a>
                    </div>
                    <div class="collapse navbar-collapse" id="navbarToggler">
                        
                        <ul class="navbar-nav me-auto mb-lg-0 ms-3">
                            <li class="nav-item">
                                <a href="#"><button class="btn btn-link itsLive" id="btn-employees">Employees</button></a>
                            </li>
                            <li class="nav-item">
                                <a href="#"><button class="btn btn-link" id="btn-departments">Departments</button></a>
                            </li>
                            <li class="nav-item">
                                <a href="#"><button class="btn btn-link" id="btn-locations">Locations</button></a>
                            </li>
                        </ul>
                        <!-- <form class="d-flex">
                        <input class="form-control me-2 ms-3" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-light" type="submit">Search</button>
                        </form> -->
                    </div>
                </div>
            </nav>
        </header>

        <main id="main" class="container-fluid">

            <!-- ======= EMPLOYEES ======= -->
            <div id="all-employees" class="all-employees">
                <div id="search-and-select" class="container-fluid">

                    <div class="row g-3 justify-content-center align-items-center">
                        <div class="col-md-3">
                            <div class="search"><input type="text" id="search-input" class="form-control" placeholder="Search by name"><button type="submit"><i class='bx bx-search'></i></button></div>
                        </div>
                        <div class="col-md-2">
                            <select class="select form-select" id="select-departments">
                                <!-- <option selected disabled value="">Select Department</option> -->
                
                            </select>
                        </div>
                        <div class="col-md-2">
                            <select class="select form-select" id="select-locations">
                                <!-- <option selected disabled value="">Select Location</option> -->
                                
                            </select>
                        </div>
                    </div>

                </div>

                <!-- ======= Show Number of Employees ======= -->
                <div class="container num-and-add">
                    <div class="d-flex justify-content-between align-items-end">

                        <div id="total-entries" class="total-entries p-1"> </div>
                       
                        <div class="add-button-employee p-3">
                            <button id="add-employee" type="button" class="btn" title="Add New Employee"><i class='bx bx-plus' ></i></button>
                        </div>
                    </div>   
                </div>

                <!-- ======= Employee Table Section ======= -->
                <section id="table-section" class="table-section">
                    <div class="wrapper">
                        <div class="container table-responsive">
                            <table id="employeeTable" class="employeeTable table table-hover">
                                <thead class="justify-content-between">
                                    <tr>
                                        <th class="text-center">Image</th>
                                        <th>First Name</th>
                                        <th>Last Name</th>
                                        <th>Department</th>
                                        <th>Location</th>
                                    </tr>
                                </thead>
                                <tbody id="employeeTbody" class="employeeTbody">
                                        
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

            </div>

            <!-- =======  DEPARTMENTS  ======= -->
            <div id="all-departments" class="all-departments d-none">

                <div class="container-fluid mb-4">
                    <div class="row d-flex g-2 justify-content-center text-center align-items-center">
                        <div class="col-md-2">
                            <div class="search"><input type="text" id="search-input-department" class="form-control" placeholder="Search Department"><button type="submit"><i class='bx bx-search'></i></button></div>
                        </div>
                        <div class="add-button-department col-md-2">
                            <button id="add-department" type="button" class="btn" title="Add New Department"><i class='bx bx-plus' ></i> Add Department</button>
                        </div>
                    </div>
                </div>

                <div id="departments-cards" class="container-fluid d-flex flex-wrap align-items-center justify-content-center mb-3">

                </div>

            </div>

            <!-- =======  LOCATIONS  ======= -->
            <div id="all-locations" class="all-locations d-none">

                <div class="container-fluid mb-4">
                    <div class="row d-flex g-2 justify-content-center text-center align-items-center">
                        <div class="col-md-2">
                            <div class="search"><input type="text" id="search-input-location" class="form-control" placeholder="Search Location"><button type="submit"><i class='bx bx-search'></i></button></div>
                        </div>
                        <div class="add-button-location col-md-2">
                            <button id="add-location" type="button" class="btn" title="Add New Location"><i class='bx bx-plus' ></i> Add Location</button>
                        </div>
                    </div>
                </div>

                <div id="locations-cards" class="container-fluid d-flex flex-wrap align-items-center justify-content-center mb-3">

                </div>

            </div>

                <!-- ======= Add Employee Modal ======= -->
            <div id="addEmployeeModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="employeeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" id="left-arrow" class="btn" title="Back" data-bs-dismiss="modal" aria-label="Close"><i class='bx bx-left-arrow-alt'></i></button>
                            <h4 class="modal-title" id="employeeModalLabel">Add New Employee</h4>
                        </div>
                        <div class="modal-body">
                            <div class="employee-form-container container p-3">
                                
                                <form id="addEmployeeForm" class="addEmployeeForm">
                                    <div class="mb-3">
                                        <label for="firstName" class="form-label">First Name <span>*</span></label>
                                        <input type="text" class="form-control" name="firstName" id="firstNameInput"/>
                                    </div>
                                    <div class="mb-3">
                                        <label for="lastName" class="form-label">Last Name <span>*</span></label>
                                        <input type="text" class="form-control" name="lastName" id="lastNameInput"/>
                                    </div>
                                    <div class="mb-3">
                                        <label for="jobTitle" class="form-label">Job Title <span>*</span></label>
                                        <input type="text" class="form-control" name="jobTitle" id="jobTitleInput"/>
                                    </div>
                                    <div class="mb-3">
                                        <label for="email" class="form-label">Email <span>*</span></label>
                                        <input type="email" class="form-control" name="email" id="emailInput"/>
                                    </div>
                                    <div class="mb-3">
                                        <label for="addEmployeeDepartmentSelect" class="form-label">Department <span>*</span></label>
                                        <select class="form-select required" id="addEmployeeDepartmentSelect">
                                            <!-- <option selected disabled value="">Select a Department</option> -->
                                    
                                        </select>
                                    </div>
                                    <div class="mb-3 no-arrow">
                                        <label for="addEmployeeLocationSelect" class="form-label">Location</label>
                                        <select class="form-select" id="addEmployeeLocationSelect" disabled>
                                            <!-- <option selected disabled value="">Select a Location</option> -->
                                    
                                        </select>
                                    </div>
                                    <p><span>*</span> Required Field</p>
                                    <div class="mt-5 form-check">
                                        <input type="checkbox" class="form-check-input" name="checkConfirmAddEmployee" id="checkConfirmAddEmployee"/>
                                        <label class="form-check-label" for="checkConfirmAddEmployee">
                                            I confirm that all data are correct.
                                        </label>
                                    </div>
                                </form>

                            </div>
                        </div>
                        <div class="modal-footer justify-content-center">
                            <button type="button" id="x-left" class="btn" title="Close" data-bs-dismiss="modal">
                                <i class='bx bx-x'></i>
                            </button>
                            <button type="submit" id="employeeConfirmAddBtn" class="btn" title="Add" disabled>
                                <i class='bx bx-plus'></i>
                            </button>
                          </div>
                    </div>
                 </div>
               </div>

               <!-- ======= View Details of Employee Modal ======= -->
            <div id="viewEmployeeModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="viewEmployeeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content" id="ed-content">

                    </div>
                 </div>
               </div>

                <!-- ======= Edit Employee Modal ======= -->
            <div id="editEmployeeModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="editEmployeeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" id="edite-left-arrow" class="btn" title="Back" data-bs-dismiss="modal" aria-label="Close"><i class='bx bx-left-arrow-alt'></i></button>
                            <h4 class="modal-title" id="editEmployeeModalLabel">Edit Employee</h4>
                        </div>
                            <div class="modal-body">
                                <div class="employee-form-container container p-3">
                                    <form id="editEmployeeForm">
                                        <input type="hidden" id="id_u" name="id" class="form-control">					
                                        <div class="mb-3 form-group">
                                            <label>First Name</label>
                                            <input type="text" id="firstName_u" name="firstName" class="form-control"/>
                                        </div>
                                        <div class="mb-3 form-group">
                                            <label>Last Name</label>
                                            <input type="text" id="lastName_u" name="lastName" class="form-control"/>
                                        </div>
                                        <div class="mb-3 form-group">
                                            <label>Job Title</label>
                                            <input type="text" id="jobTitle_u" name="jobTitle" class="form-control"/>
                                        </div>
                                        <div class="mb-3 form-group">
                                            <label>Email</label>
                                            <input type="email" id="email_u" name="email" class="form-control"/>
                                        </div>
                                        <div class="mb-3 form-group">
                                            <label>Department</label>
                                            <select class="form-select" id="editEmployeeDepartmentSelect">
                                                <!-- <option selected disabled value=""></option> -->
                                        
                                            </select>
                                        </div>
                                        <div class="mb-3 form-group no-arrow">
                                            <label>Location</label>
                                            <select class="form-select" id="editEmployeeLocationSelect" disabled>
                                                <!-- <option selected disabled value=""></option> -->
                                        
                                            </select>
                                        </div>
                                        <div class="mt-5 form-check">
                                            <input type="checkbox" class="form-check-input" name="checkConfirmEditEmployee" id="checkConfirmEditEmployee"/>
                                            <label class="form-check-label" for="checkConfirmEditEmployee">
                                                I confirm that all data are correct.
                                            </label>
                                        </div>	
                                    </form>	
                                </div>			
                            </div>
                            <div class="modal-footer justify-content-center">
                                <button type="button" id="xedite-left" class="btn" title="Close" data-bs-dismiss="modal">
                                    <i class='bx bx-x'></i>
                                </button>
                                <button type="button" class="btn" id="updateEmployeeBtn" title="Update" disabled>
                                    <i class='bx bx-check'></i>
                                </button>
                            </div>
                    </div>
                </div>
            </div>

                <!-- ======= Delete Employee Modal ======= -->
            <div id="deleteEmployeeModal" class="modal fade" tabindex="-1" role="dialog"  data-bs-backdrop="static" data-bs-keyboard="false" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <h4><strong>Delete employee?</strong></h4>
                            <p class="mt-3"><small>This employee will be deleted from this company. Delete?</small></p>
                            <form>
                                <input type="hidden" id="id_d" name="id" class="form-control">
                                <div class="mt-3 form-check">
                                    <input type="checkbox" class="form-check-input" name="checkConfirmDeleteEmployee" id="checkConfirmDeleteEmployee"/>
                                    <label class="form-check-label" for="checkConfirmDeleteEmployee">
                                        <small>I've read and understand</small>
                                    </label>
                                </div>						
                            </form>
                        </div>
                        <div class="delete-btn-footer mt-2 align-items-center justify-content-between text-center">
                            <button type="button" id="cancelDeleteE-left" class="btn mb-1" title="Cancel" data-bs-dismiss="modal">
                                <h5 class="text-primary"><strong>CANCEL</strong></h5>
                            </button>
                
                            <button type="button" class="btn mb-1" id="deleteEmployeeBtn" title="Delete" disabled>
                                <h5><strong>DELETE</strong></h5>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

                <!-- ======= Add Department Modal ======= -->
            <div id="addDepartmentModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="addDepartmentModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" id="addd-left-arrow" class="btn" title="Back" data-bs-dismiss="modal" aria-label="Close"><i class='bx bx-left-arrow-alt'></i></button>
                            <h4 class="modal-title p-1" id="addDepartmentModalLabel">Add New Department</h4>
                        </div>
                            <div class="modal-body">
                                <div class="department-form-container container p-3">
                                    <form id="addDepartmentForm">					
                                        <div class="m-3 form-group">
                                            <label>Department Name</label>
                                            <input type="text" id="departmentName_addd" name="departmentName" class="form-control"/>
                                        </div>
                                        <div class="m-3 form-group">
                                            <label>Location</label>
                                            <select class="form-select required" id="addDepartmentLocationSelect">
                                                <!-- <option selected disabled value="">Select Location</option> -->
                                            </select>
                                        </div>
                                        <div class="mt-5 form-check">
                                            <input type="checkbox" class="form-check-input" name="checkConfirmAddDepartment" id="checkConfirmAddDepartment"/>
                                            <label class="form-check-label" for="checkConfirmAddDepartment">
                                                I confirm that all data are correct.
                                            </label>
                                        </div>	
                                    </form>	
                                </div>			
                            </div>
                            <div class="modal-footer justify-content-center">
                                <button type="button" id="xaddd-left" class="btn" title="Close" data-bs-dismiss="modal">
                                    <i class='bx bx-x'></i>
                                </button>
                                <button type="button" class="btn" id="addDepartmentBtn" title="Add" disabled>
                                    <i class='bx bx-plus'></i>
                                </button>
                            </div>
                    </div>
                </div>
            </div>

                <!-- ======= Edit Department Modal ======= -->
            <div id="editDepartmentModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="editDepartmentModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" id="editud-left-arrow" class="btn" title="Back" data-bs-dismiss="modal" aria-label="Close"><i class='bx bx-left-arrow-alt'></i></button>
                            <h4 class="modal-title" id="editDepartmentModalLabel">Edit Department</h4>
                        </div>
                            <div class="modal-body">
                                <div class="department-form-container container p-3">
                                    <form id="editDepartmentForm">
                                        <input type="hidden" id="id_ud" name="id" class="form-control">					
                                        <div class="m-3 form-group">
                                            <label>Department Name</label>
                                            <input type="text" id="departmentName_ud" name="departmentName" class="form-control"/>
                                        </div>
                                        <div class="m-3 form-group">
                                            <label>Location</label>
                                            <select class="form-select" id="editDepartmentLocationSelect">
                                                <!-- <option selected disabled value=""></option> -->
                                            </select>
                                        </div>
                                        <div class="mt-5 form-check">
                                            <input type="checkbox" class="form-check-input" name="checkConfirmEditDepartment" id="checkConfirmEditDepartment"/>
                                            <label class="form-check-label" for="checkConfirmEditDepartment">
                                                I confirm that all data are correct.
                                            </label>
                                        </div>	
                                    </form>	
                                </div>			
                            </div>
                            <div class="modal-footer justify-content-center">
                                <button type="button" id="xeditud-left" class="btn" title="Close" data-bs-dismiss="modal">
                                    <i class='bx bx-x'></i>
                                </button>
                                <button type="button" class="btn" id="updateDepartmentBtn" title="Update" disabled>
                                    <i class='bx bx-check'></i>
                                </button>
                            </div>
                    </div>
                </div>
            </div>

                <!-- ======= Delete Department Modal ======= -->
            <div id="deleteDepartmentModal" class="modal fade" tabindex="-1" role="dialog"  data-bs-backdrop="static" data-bs-keyboard="false" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <h4><strong>Delete Department?</strong></h4>
                            <p class="mt-3"><small>This Department will be deleted from this company. Delete?</small></p>
                            <form>
                                <input type="hidden" id="id_dd" name="id" class="form-control">
                                <div class="mt-3 form-check">
                                    <input type="checkbox" class="form-check-input" name="checkConfirmDeleteDepartment" id="checkConfirmDeleteDepartment"/>
                                    <label class="form-check-label" for="checkConfirmDeleteDepartment">
                                        <small>I've read and understand</small>
                                    </label>
                                </div>						
                            </form>
                        </div>
                        <div class="delete-btn-footer mt-2 align-items-center justify-content-between text-center">
                            <button type="button" id="cancelDeleteD-left" class="btn mb-1" title="Cancel" data-bs-dismiss="modal">
                                <h5 class="text-primary"><strong>CANCEL</strong></h5>
                            </button>
                
                            <button type="button" class="btn mb-1" id="deleteDepartmentBtn" title="Delete" disabled>
                                <h5><strong>DELETE</strong></h5>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

                <!-- ======= Add Location Modal ======= -->
            <div id="addLocationModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="addLocationModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" id="addl-left-arrow" class="btn" title="Back" data-bs-dismiss="modal" aria-label="Close"><i class='bx bx-left-arrow-alt'></i></button>
                            <h4 class="modal-title" id="addLocationModalLabel">Add New Location</h4>
                        </div>
                            <div class="modal-body">
                                <div class="location-form-container container p-3">
                                    <form id="addLocationForm">					
                                        <div class="m-3 form-group">
                                            <label>Location Name</label>
                                            <input type="text" id="locationName_addl" name="locationName" class="form-control"/>
                                        </div>
                                        <div class="mt-5 form-check">
                                            <input type="checkbox" class="form-check-input" name="checkConfirmAddLocation" id="checkConfirmAddLocation"/>
                                            <label class="form-check-label" for="checkConfirmAddLocation">
                                                I confirm that the Location is correct.
                                            </label>
                                        </div>	
                                    </form>	
                                </div>			
                            </div>
                            <div class="modal-footer justify-content-center">
                                <button type="button" id="xaddl-left" class="btn" title="Close" data-bs-dismiss="modal">
                                    <i class='bx bx-x'></i>
                                </button>
                                <button type="button" class="btn" id="addLocationBtn" title="Add" disabled>
                                    <i class='bx bx-plus'></i>
                                </button>
                            </div>
                    </div>
                </div>
            </div>

                <!-- ======= Delete Location Modal ======= -->
            <div id="deleteLocationModal" class="modal fade" tabindex="-1" role="dialog"  data-bs-backdrop="static" data-bs-keyboard="false" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <h4><strong>Delete Location?</strong></h4>
                            <p class="mt-3"><small>This Location will be deleted from this company. Delete?</small></p>
                            <form>
                                <input type="hidden" id="id_dl" name="id" class="form-control">
                                <div class="mt-3 form-check">
                                    <input type="checkbox" class="form-check-input" name="checkConfirmDeleteLocation" id="checkConfirmDeleteLocation"/>
                                    <label class="form-check-label" for="checkConfirmDeleteLocation">
                                        <small>I've read and understand</small>
                                    </label>
                                </div>						
                            </form>
                        </div>
                        <div class="delete-btn-footer mt-2 align-items-center justify-content-between text-center">
                            <button type="button" id="cancelDeleteL-left" class="btn mb-1" title="Cancel" data-bs-dismiss="modal">
                                <h5 class="text-primary"><strong>CANCEL</strong></h5>
                            </button>
                
                            <button type="button" class="btn mb-1" id="deleteLocationBtn" title="Delete" disabled>
                                <h5><strong>DELETE</strong></h5>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

                <!-- ======= Forbidden Department Modal ======= -->
            <div id="forbiddenDepartmentModal" class="modal fade" tabindex="-1" role="dialog"  data-bs-backdrop="static" data-bs-keyboard="false" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 class="modal-title m-1"><strong>Sorry !</strong></h3>
                        </div>
                        <div class="modal-body">
                            <p class="mt-3">Cannot delete this Department because it has Personnel assigned to it!</p>
                        </div>
                        <div class="mt-2 align-items-center justify-content-center text-center">
                            <button type="button" id="cancelForbiddenD" class="btn mb-1" title="OK" data-bs-dismiss="modal">
                                <h4 class="text-primary"><strong>OK</strong></h4>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

                <!-- ======= Forbidden Location Modal ======= -->
            <div id="forbiddenLocationModal" class="modal fade" tabindex="-1" role="dialog"  data-bs-backdrop="static" data-bs-keyboard="false" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 class="modal-title m-1"><strong>Sorry !</strong></h3>
                        </div>
                        <div class="modal-body">
                            <p class="mt-3">Cannot delete this Location because it has Department(s) assigned to it!</p>
                        </div>
                        <div class="mt-2 align-items-center justify-content-center text-center">
                            <button type="button" id="cancelForbiddenL" class="btn mb-1" title="OK" data-bs-dismiss="modal">
                                <h4 class="text-primary"><strong>OK</strong></h4>
                            </button>
                        </div>
                    </div>
                </div>
            </div>


        </main>


        <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class='bx bx-arrow-to-top'></i></a>
        <div id="preloader"></div>
        <div id="loader" class="lds-dual-ring hidden overlay"></div>


        <script src="vendor/jquery/jquery-3.6.0.min.js"></script>
        <script src="vendor/bootstrap-5.0.1/js/bootstrap.min.js"></script>
        <script src="vendor/jquery/jquery-validation/jquery.validate.min.js"></script>
        <script src="vendor/jquery/jquery-validation/additional-methods.min.js"></script>
        
        <script type="application/javascript" src="libs/js/main-min.js"></script>
        
    </body>

</html>